<!-- views/product/index.ejs -->
<link rel="stylesheet" href="/css/style.css">

<div class="table-container">
  <div class="table-header">
    <h2>üìÑ Danh s√°ch s·∫£n ph·∫©m</h2>
    <div class="actions">
      <a href="/products/create" class="btn btn-add">‚ûï T·∫°o s·∫£n ph·∫©m</a>
      <a href="#" class="btn btn-export">‚úÖ Xu·∫•t Excel</a>
    </div>
  </div>

  <div class="search-box">
    <input type="text" placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m ho·∫∑c m√£">
    <button class="btn btn-add">üîç T√¨m ki·∫øm</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>STT</th>
        <th>T√™n s·∫£n ph·∫©m</th>
        <th>M√£ SP</th>
        <th>SL</th>
        <th>Gi√° v·ªën</th>
        <th>Gi√° b√°n</th>
        <th>Danh m·ª•c</th>
        <th>Nh√† s·∫£n xu·∫•t</th>
        <th>H√†nh ƒë·ªông</th>
      </tr>
    </thead>
    <tbody>
      <% if (products.length === 0) { %>
        <tr>
          <td colspan="9">Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o</td>
        </tr>
      <% } else { %>
        <% products.forEach((product, index) => { %>
          <tr>
            <td><%= index + 1 %></td>
            <td><%= product.name %></td>
            <td>SP<%= product._id.toString().slice(-6) %></td>
            <td><%= product.quantity || 0 %></td>
            <td><%= product.costPrice || 0 %></td>
            <td><%= product.price %></td>
            <td><%= product.category || '-' %></td>
            <td><%= product.manufacturer || '-' %></td>
            <td>
              <a href="/products/edit/<%= product._id %>">‚úèÔ∏è</a>
              <form action="/products/delete/<%= product._id %>" method="POST" style="display:inline;">
                <button onclick="return confirm('Xo√° s·∫£n ph·∫©m n√†y?')">üóëÔ∏è</button>
              </form>
            </td>
          </tr>
        <% }) %>
      <% } %>
    </tbody>
  </table>
</div>
