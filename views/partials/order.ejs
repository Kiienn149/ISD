<div class="main-container">
  <!-- Thanh tiรชu ฤแป -->
  <div class="page-title-bar">
    <h2>๐ Danh sรกch ฤฦกn hรng</h2>
    <div class="action-buttons">
      <button class="btn btn-primary" id="create-order-btn">ฤแบทt hรng</button>
      <button class="btn btn-info" id="sell-button">Bรกn hรng</button>
      <button class="btn btn-success" id="export-excel">Xuแบฅt Excel</button>
    </div>
  </div>

  <!-- Thanh tรฌm kiแบฟm vร bแป lแปc -->
  <div class="filter-bar">
    <input type="text" id="order-search" placeholder="Nhแบญp mรฃ ฤฦกn hรng ฤแป tรฌm kiแบฟm" class="input-text" />
    <select id="order-type" class="input-select">
      <option value="all">Tแบฅt cแบฃ</option>
      <option value="order">ฤฦกn hรng</option>
      <option value="invoice">Hรณa ฤฦกn bรกn</option>
    </select>
    <input type="date" id="start-date" class="input-date" />
    <span>ฤแบฟn</span>
    <input type="date" id="end-date" class="input-date" />
    <button class="btn btn-search" id="search-button">๐ Tรฌm kiแบฟm</button>

    <div class="filter-tabs">
      <button class="btn-tab" id="week-filter">Tuแบงn</button>
      <button class="btn-tab" id="month-filter">Thรกng</button>
      <button class="btn-tab" id="quarter-filter">Quรฝ</button>
    </div>
  </div>

  <!-- Bแบฃng hiแปn thแป ฤฦกn hรng -->
  <table class="order-table">
    <thead>
      <tr>
        <th>Mรฃ ฤฦกn hรng</th>
        <th>Sแบฃn phแบฉm</th>
        <th>Khรกch hรng</th>
        <th>Sแป lฦฐแปฃng</th>
        <th>Giรก</th>
        <th>Tแปng tiแปn</th>
        <th>Trแบกng thรกi</th>
        <th>Ngรy bรกn</th>
      </tr>
    </thead>
    <tbody>
      <% if (orders.length === 0) { %>
        <tr>
          <td colspan="8" class="text-center">Chฦฐa cรณ ฤฦกn hรng nรo</td>
        </tr>
      <% } else { %>
        <% orders.forEach(order => { %>
          <tr>
            <td><%= order._id %></td>
            <td><%= order.product %></td>
            <td><%= order.customer %></td>
            <td><%= order.quantity %></td>
            <td><%= order.price.toLocaleString('vi-VN') %> โซ</td>
            <td><%= order.total.toLocaleString('vi-VN') %> โซ</td>
            <td><%= order.status || 'ฤang xแปญ lรฝ' %></td>
            <td><%= order.date ? new Date(order.date).toLocaleDateString('vi-VN') : 'Chฦฐa xรกc ฤแปnh' %></td>
          </tr>
        <% }) %>
      <% } %>
    </tbody>
  </table>

  <!-- Form Thรชm ฤฦกn Hรng (แบจn khi bแบฏt ฤแบงu) -->
  <div class="add-order-form" id="add-order-form" style="display:none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
    <h3>Thรชm ฤฦกn hรng mแปi</h3>
    <form action="/order/create" method="POST">
      <label for="product">Sแบฃn phแบฉm:</label>
      <input type="text" id="product" name="product" required><br><br>

      <label for="customer">Khรกch hรng:</label>
      <input type="text" id="customer" name="customer" required><br><br>

      <label for="quantity">Sแป lฦฐแปฃng:</label>
      <input type="number" id="quantity" name="quantity" required><br><br>

      <label for="price">Giรก:</label>
      <input type="number" id="price" name="price" required><br><br>

      <button type="submit">Thรชm ฤฦกn hรng</button>
    </form>
  </div>
</div>

<script>
  // Hiแปn thแป form khi nhแบฅn nรบt "ฤแบทt hรng"
  document.getElementById('create-order-btn').addEventListener('click', function() {
    const form = document.getElementById('add-order-form');
    form.style.display = form.style.display === 'none' ? 'block' : 'none'; // แบจn/hiแปn form
  });

  document.getElementById('export-excel').addEventListener('click', () => {
    alert('Chแปฉc nฤng xuแบฅt Excel ฤang phรกt triแปn!');
  });
</script>
